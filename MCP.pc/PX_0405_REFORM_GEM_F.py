import os,sys
#IN="T20.BCLINE.FRAGMENT_GEMLINE"
IN=sys.argv[1]
FIN=open(IN,"r")

FOUTH=open(IN+".H","w")
FOUTF=open(IN+".F","w")
FOUTM=open(IN+".M","w")


while True:
	line=FIN.readline()
	if not line:
		break
	word=line.rstrip("\n").split(";")
	H=0
	F=0
	for i in range(1,len(word)):
		#print word[i]
		C=word[i].split("\t")[0]
		if C.startswith("XXXXchr"):
			H=1+H
		elif C.startswith("chr"):
			F=1+F
		else:
			sys.exit("Chrom Mistake"),line
	#print "H:F=",H,":",F
	if H>=1 and F>=1:
		newline="M"+":fragnum"+"H"+str(H)+"F"+str(F)+"|"+line
		FOUTM.write(newline)
	elif H>=1 and F==0:
		newline="H"+":fragnum"+"H"+str(H)+"|"+line
		FOUTH.write(newline)
	elif H==0 and F>=1:
                newline="F"+":fragnum"+"F"+str(F)+"|"+line
                FOUTF.write(newline)
	else:
		sys.exit("Genome divide Mistake"),line
"""

 T20.BCLINE.FRAGMENT_GEMLINE
SHG0007H-BX-TTTGTGTAGGCGGAAG;chr12	53600655	53601283	1	SHG0007H-BX-TTTGTGTAGGCGGAAG-0000F;chr13	79117155	79117741	1	SHG0007H-BX-TTTGTGTAGGCGGAAG-0001F;chr16	12896577	12897205	2	SHG0007H-BX-TTTGTGTAGGCGGAAG-0002F;chr17	77391668	77392296	1	SHG0007H-BX-TTTGTGTAGGCGGAAG-0003F;chr3	122444907	122445535	4	SHG0007H-BX-TTTGTGTAGGCGGAAG-0004F
SHG0007H-BX-TTTGTGTAGGCGTAGT;chr14	65895163	65896396	5	SHG0007H-BX-TTTGTGTAGGCGTAGT-0000F;chr14	65899865	65900641	5	SHG0007H-BX-TTTGTGTAGGCGTAGT-0001F;chr3	134770390	134770975	1	SHG0007H-BX-TTTGTGTAGGCGTAGT-0002F;chr3	183334179	183334765	2	SHG0007H-BX-TTTGTGTAGGCGTAGT-0003F;chr5	73635576	73636204	1	SHG0007H-BX-TTTGTGTAGGCGTAGT-0004F;chr7	65480595	65481223	2	SHG0007H-BX-TTTGTGTAGGCGTAGT-0005F;chr7	100002309	100002937	1	SHG0007H-BX-TTTGTGTAGGCGTAGT-0006F;dchr2L	5604950	5605578	2	SHG0007H-BX-TTTGTGTAGGCGTAGT-0007F;dchr2R	3984111	3984696	2	SHG0007H-BX-TTTGTGTAGGCGTAGT-0008F;dchr2R	4298792	4299378	3	SHG0007H-BX-TTTGTGTAGGCGTAGT-0009F;dchr2R	17203924	17204510	1	SHG0007H-BX-TTTGTGTAGGCGTAGT-0010F;dchr3L	17971377	17971947	1	SHG0007H-BX-TTTGTGTAGGCGTAGT-0011F
SHG0007H-BX-TTTGTGTAGGCGTTGA;chr14	22942546	22943131	1	SHG0007H-BX-TTTGTGTAGGCGTTGA-0000F;chr14	78337383	78338006	1	SHG0007H-BX-TTTGTGTAGGCGTTGA-0001F;chr4	49156555	49157126	1	SHG0007H-BX-TTTGTGTAGGCGTTGA-0002F;chr6	126025105	126025733	1	SHG0007H-BX-TTTGTGTAGGCGTTGA-0003F;dchr2L	11559926	11560554	3	SHG0007H-BX-TTTGTGTAGGCGTTGA-0004F;dchr2R	8007758	8008386	1	SHG0007H-BX-TTTGTGTAGGCGTTGA-0005F;dchr3L	1034625	1036072	11	SHG0007H-BX-TTTGTGTAGGCGTTGA-0006F;dchr3R	11364024	11364678	3	SHG0007H-BX-TTTGTGTAGGCGTTGA-0007F;dchr3R	11364740	11365923	396	SHG0007H-BX-TTTGTGTAGGCGTTGA-0008F
SHG0007H-BX-TTTGTGTAGGCTAAAT;chr3	177079089	177079718	1	SHG0007H-BX-TTTGTGTAGGCTAAAT-0000F;chr6	43809514	43810192	255	SHG0007H-BX-TTTGTGTAGGCTAAAT-0001F;chr9	33167330	33167958	2	SHG0007H-BX-TTTGTGTAGGCTAAAT-0002F;dchr3L	8439562	8440168	1	SHG0007H-BX-TTTGTGTAGGCTAAAT-0003F;dchr3L	22445183	22445769	1	SHG0007H-BX-TTTGTGTAGGCTAAAT-0004F;dchr3R	18996059	18996687	1	SHG0007H-BX-TTTGTGTAGGCTAAAT-0005F
SHG0007H-BX-TTTGTGTAGGCTACGA;chr1	9388807	9389392	2	SHG0007H-BX-TTTGTGTAGGCTACGA-0000F;chr5	116469174	116469802	1	SHG0007H-BX-TTTGTGTAGGCTACGA-0001F
SHG0007H-BX-TTTGTGTAGGCTAGAC;dchrX	1101232	1101830	2	SHG0007H-BX-TTTGTGTAGGCTAGAC-0000F
SHG0007H-BX-TTTGTGTAGGCTAGCA;chr1	55398428	55399023	3	SHG0007H-BX-TTTGTGTAGGCTAGCA-0000F;chr7	125506006	125506591	4	SHG0007H-BX-TTTGTGTAGGCTAGCA-0001F;chr8	72791199	72791888	158	SHG0007H-BX-TTTGTGTAGGCTAGCA-0002F;chrX	88328166	88328716	1	SHG0007H-BX-TTTGTGTAGGCTAGCA-0003F;dchr2L	14913024	14913645	1	SHG0007H-BX-TTTGTGTAGGCTAGCA-0004F;dchr2R	16339548	16340176	1	SHG0007H-BX-TTTGTGTAGGCTAGCA-0005F;dchr2R	17345532	17346795	28	SHG0007H-BX-TTTGTGTAGGCTAGCA-0006F;dchr3L	792125	792753	1	SHG0007H-BX-TTTGTGTAGGCTAGCA-0007F;dchr3L	1352286	1352914	2	SHG0007H-BX-TTTGTGTAGGCTAGCA-0008F;dchr3R	25762408	25763018	SHG0007H-BX-TTTGTGTAGGCTAGCA-0009F;dchrX	511880	512726	14	SHG0007H-BX-TTTGTGTAGGCTAGCA-0010F;dchrX	6052490	6053240	5	SHG0007H-BX-TTTGTGTAGGCTAGCA-0011F;dchrX	18359508	18360544	9	SHG0007H-BX-TTTGTGTAGGCTAGCA-0012F
SHG0007H-BX-TTTGTGTAGGCTAGGT;chr14	24024976	24025604	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0000F;chr16	29623557	29624437	22	SHG0007H-BX-TTTGTGTAGGCTAGGT-0001F;chr7	48446976	48447605	2	SHG0007H-BX-TTTGTGTAGGCTAGGT-0002F;dchr2L	21676434	21676994	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0003F;dchr2R	6228102	6228703	2	SHG0007H-BX-TTTGTGTAGGCTAGGT-0004F;dchr3L	3456162	3456731	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0005F;dchr3L	8907203	8908284	9	SHG0007H-BX-TTTGTGTAGGCTAGGT-0006F;dchr3R	11809728	11810356	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0007F;dchr3R	17509515	17510101	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0008F;dchr4	536084	536948	27	SHG0007H-BX-TTTGTGTAGGCTAGGT-0009F;dchrX	3353342	3353916	1	SHG0007H-BX-TTTGTGTAGGCTAGGT-0010F;dchrX	5838186	5838962	777	SHG0007H-BX-TTTGTGTAGGCTAGGT-0011F
SHG0007H-BX-TTTGTGTAGGCTAGTG;chr14	77444172	77444800	2	SHG0007H-BX-TTTGTGTAGGCTAGTG-0000F;chr16	10116396	10116973	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0001F;chr16	48317834	48318413	3	SHG0007H-BX-TTTGTGTAGGCTAGTG-0002F;chr22	32299513	32300116	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0003F;chr22	33111883	33112465	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0004F;chr3	60353483	60354033	2	SHG0007H-BX-TTTGTGTAGGCTAGTG-0005F;chr5	74837902	74838487	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0006F;chr7	105621057	105621643	3	SHG0007H-BX-TTTGTGTAGGCTAGTG-0007F;chr8	103911022	103911650	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0008F;chr9	18721234	18721819	2	SHG0007H-BX-TTTGTGTAGGCTAGTG-0009F;chrX	4771105	4771671	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0010F;dchr2L	547377	548005	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0011F;dchr2L	21134923	21135514	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0012F;dchr2R	17412566	17413154	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0013F;dchr3L	10378825	10379694	7	SHG0007H-BX-TTTGTGTAGGCTAGTG-0014F;dchr3L	16317672	16318236	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0015F;dchr3R	3972368	3972953	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0016F;dchr3R	9355834	9356388	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0017F;dchr3R	14328181	14328761	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0018F;dchr3R	16775471	16776050	SHG0007H-BX-TTTGTGTAGGCTAGTG-0019F;dchr3R	21424271	21425100	51	SHG0007H-BX-TTTGTGTAGGCTAGTG-0020F;dchrX	18416859	18417445	1	SHG0007H-BX-TTTGTGTAGGCTAGTG-0021F
SHG0007H-BX-TTTGTGTAGGCTCAGA;chr20	52367350	52367978	1	SHG0007H-BX-TTTGTGTAGGCTCAGA-0000F;chr4	83995396	83996024	1	SHG0007H-BX-TTTGTGTAGGCTCAGA-0001F;dchr2L	8988358	8988986	1	SHG0007H-BX-TTTGTGTAGGCTCAGA-0002F;dchr2R	561628	562256	2	SHG0007H-BX-TTTGTGTAGGCTCAGA-0003F;dchr3R	12428284	12428912	1	SHG0007H-BX-TTTGTGTAGGCTCAGA-0004F
"""


